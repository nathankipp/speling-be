(this["webpackJsonpspeling-be"]=this["webpackJsonpspeling-be"]||[]).push([[0],{36:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(23),o=n.n(r),i=(n(36),n(4)),a=n(3),l=n(24),d=n(25),u=n(27),h=n(26),p=n(13),j=n.n(p),v=n(2),f=n.n(v),b=(n(96),n(0)),g=["all","am"],m="abcdefghijklmnopqrstuvwxyz".split(""),O="speling-be",w="spelled",x="spoken",k={step:0,score:0,word:void 0,choices:[],ans:"",high:0,mode:w,spelled:[],spoken:[]},N=function(){window.confirm("Reset words and high score?")&&(window.localStorage.setItem(O,0),window.localStorage.setItem(w,"[]"),window.localStorage.setItem(x,"[]"),window.location.reload())},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=f()(g,e);if(0===t.length)return"";var n=Math.floor(Math.random()*t.length);return t[n]},y=function(e,t){return Object(b.jsxs)("div",{className:"score",children:[Object(b.jsxs)("div",{children:["Score: ",e]}),Object(b.jsxs)("div",{children:["High: ",t]})]})},I=function(e){return Object(b.jsx)("button",{className:"play",onClick:function(){e.current.currentTime=0,e.current.play()},children:" \ud83d\udd0a "})},C=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).spell=function(){for(var e=c.state.word,t=j()(e.split(""));t.length<15;){var n=Math.floor(26*Math.random()),s=m[n];t.includes(s)||t.push(s)}c.update({step:2,choices:t})},c.print=function(e){var t=c.state,n=t.ans,s=t.word,r=t.score,o=t.high,i=t.mode,l=t.spelled,d=t.spoken,u=n.concat(e),h=u===s?3:2;if(3===h){o=(r+=1)>o?r:o,window.localStorage.setItem(O,o),i===w?(l=[].concat(Object(a.a)(l),[s]),window.localStorage.setItem(w,JSON.stringify(l))):(d=[].concat(Object(a.a)(d),[s]),window.localStorage.setItem(x,JSON.stringify(d)));setTimeout((function(){return c.update({score:r,high:o,spelled:l,spoken:d},(function(){return c.start()}))}),2e3)}c.update({ans:u,step:h})},c.remove=function(){var e=c.state.ans;c.update({ans:e.replace(/.$/,"")})},c.giveUp=function(){var e=c.state,t=e.high,n=e.spelled;c.update(Object(i.a)(Object(i.a)({},k),{},{score:0,high:t,spelled:n}))},c.start=function(){var e=c.state,t=e.spelled,n=e.spoken,s=S(t),r=S(n),o=s?1:r?2:4,i={step:o,mode:s?w:x,word:s||r,ans:"",countdown:3},a=s?function(){setTimeout((function(){return c.update({countdown:2})}),1e3),setTimeout((function(){return c.update({countdown:1})}),2e3),setTimeout((function(){return c.spell()}),3e3)}:function(){c.spell(),setTimeout((function(){var e=c.audioRef.current;e.currentTime=0,e.play()}),250)};c.update(i,o<4?a:void 0)},c.state=k,c.audioRef=s.a.createRef(),c}return Object(d.a)(n,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState((function(t){return Object(i.a)(Object(i.a)({},t),e)}),t)}},{key:"componentDidMount",value:function(){var e,t,n,c=(null===(e=window.localStorage)||void 0===e?void 0:e.getItem(O))||0;null===c&&window.localStorage.setItem(O,0);var s=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(w);try{s=JSON.parse(s).map((function(e){return e}))}catch(i){s=[]}var r=null===(n=window.localStorage)||void 0===n?void 0:n.getItem(x);try{r=JSON.parse(s).map((function(e){return e}))}catch(i){r=[]}var o=0===f()(g,j()([].concat(Object(a.a)(s),Object(a.a)(r)))).length?4:k.step;this.update({step:o,high:c,spelled:s,spoken:r})}},{key:"render",value:function(){var e,t=(e=this.state,{start:function(t){var n=e.score,c=e.high,s=e.spelled,r=e.spoken;return Object(b.jsxs)("div",{className:"app go",children:[y(n,c),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Get ready to spell!"}),Object(b.jsxs)("div",{className:"status",children:["There are ",g.length," words"]}),Object(b.jsxs)("div",{className:"status",children:[f()(g,s).length," left to read & spell"]}),Object(b.jsxs)("div",{className:"status",children:[f()(g,r).length," left to hear & spell"]}),Object(b.jsx)("button",{className:"reset",onClick:function(){return N()},children:"Reset"})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"go",onClick:t,children:"Go"})})]})},read:function(){var t=e.score,n=e.high,c=e.word,s=e.countdown;return Object(b.jsxs)("div",{className:"app read",children:[y(t,n),Object(b.jsx)("div",{children:c}),Object(b.jsx)("div",{children:s})]})},spell:function(t,n,c,s){var r=e.word,o=(e.mode,e.score),i=e.high,a=e.choices,l=e.ans;return Object(b.jsxs)("div",{className:"app spell",children:[Object(b.jsx)("audio",{ref:t,src:"".concat("/speling-be","/audio/").concat(r,".m4a")}),y(o,i),Object(b.jsxs)("div",{children:["\xa0",l||I(t),"\xa0"]}),Object(b.jsxs)("div",{children:[a.sort().map((function(e){return Object(b.jsx)("button",{onClick:function(){return n(e)},children:e},e)})),Object(b.jsx)("button",{className:"remove",onClick:c,children:" \u2190 "}),I(t),Object(b.jsx)("button",{className:"give-up",onClick:function(){window.confirm("Give up?")&&s()},children:" \ud83d\ude16 "})]})]})},yes:function(){var t=e.score,n=e.high,c=e.ans;return Object(b.jsxs)("div",{className:"app yes",children:[y(t,n),Object(b.jsx)("div",{children:c}),Object(b.jsx)("div",{children:"Yes!!!"})]})},done:function(){var t=e.score,n=e.high;return Object(b.jsxs)("div",{className:"app winner",children:[y(t,n),Object(b.jsx)("div",{children:"\ud83e\udd29"}),Object(b.jsx)("div",{children:"All done!"}),Object(b.jsx)("button",{className:"reset",onClick:function(){return N()},children:"Play again"})]})}}),n=t.start,c=t.read,s=t.spell,r=t.yes,o=t.done;switch(this.state.step){case 0:return n(this.start);case 1:return c();case 2:return s(this.audioRef,this.print,this.remove,this.giveUp);case 3:return r();case 4:return o()}}}]),n}(s.a.Component),T=C,R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(T,{})})),R()}},[[98,1,2]]]);
//# sourceMappingURL=main.03794e94.chunk.js.map